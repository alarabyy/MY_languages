


--passwrod=sa123456
--MSSQLSERVER
--click on  database engine  or browse and choose any data base 
---------------------------------------------------------------------------
---------------------------------------------------------------------------


-- to create and drop data base

create database company;
drop database company;


---------------------------------------------------------------------------
---------------------------------------------------------------------------

--to  create table

create table employee
(
id int primary key,
name varchar(50) not null,
address varchar(50) not null,
phone int not null 
);


---------------------------------------------------------------------------
---------------------------------------------------------------------------

--to insert data

insert into employee1(id , name , address , phone)
values (1 , 'ali' , 'alex' , 0123684632),
       (2 , 'hamo' , 'giza' , 01383838938932),
       (3 , 'mazen' , 'mansoura' , 0178027824632),
       (4 , 'alaraby' , 'luxor' , 0023528732);

-----------------------------------------------------

insert into orderes1(id_o , name , address , price)
values (1 , 'ali' , 'alex' , 200),
       (2 , 'hamo' , 'giza' , 932),
       (3 , 'mazen' , 'mansoura' , 632),
       (4 , 'alaraby' , 'luxor' , 232);

---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

-- to display data

select * from employee ;

--------------------------------

select (id, name)
  from employee

---------------------------------

 select * from employee1 , orderes1
	   where employee1.id = orderes1.id_o;

---------------------------------

 select employee1.id ,employee1.name ,orderes1.price from employee1 , orderes1
	   where  price between 200 and  632

---------------------------------

 select * from employee1 , orderes1
	   where  employee1.name like'hamo%' ; 


---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

--relation one to  one useing foreign key

create table employee1
(
id int primary key,
name varchar(50) not null,
address varchar(50) not null,
phone int not null
);


create table orderes1
(
id_o int primary key,
name varchar(50) not null,
address varchar(50) not null,
price int not null,
foreign key (id_o) references employee1(id)
);

--------------------------------------------------------------------------------------------

insert into employee1(id , name , address , phone)
values (1 , 'ali' , 'alex' , 014632),
       (2 , 'hamo' , 'giza' , 0138932),
       (3 , 'mazen' , 'mansoura' , 01784632),
       (4 , 'alaraby' , 'luxor' , 00232);
--------------------------------------------------------------------------------------------
insert into orderes1(id_o , name , address , price)
values (1 , 'ali' , 'alex' , 200),
       (2 , 'hamo' , 'giza' , 932),
       (3 , 'mazen' , 'mansoura' , 632),
       (4 , 'alaraby' , 'luxor' , 232);


	   select * from employee1 , orderes1
	   where employee1.id = orderes1.id_o;



---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

--relation one to  many useing foreign key


create table employee2
(
id int primary key,
name varchar(50) not null,
address varchar(50) not null,
phone int not null
);


create table orderes2
(
id_o int primary key,
name varchar(50) not null,
address varchar(50) not null,
price int not null,
id_emp int not null
foreign key (id_emp) references employee1(id)
);

--------------------------------------------------------------------------------------------

insert into employee2(id , name , address , phone)
values (1 , 'ali' , 'alex' , 014632),
       (2 , 'hamo' , 'giza' , 0138932),
       (3 , 'mazen' , 'mansoura' , 01784632),
       (4 , 'alaraby' , 'luxor' , 00232);
--------------------------------------------------------------------------------------------
insert into orderes2(id_o , name , address , price , id_emp)
values (1 , 'ali' , 'alex' , 200 ,1),
       (2 , 'hamo' , 'giza' , 932 , 2),
       (3 , 'mazen' , 'mansoura' , 632, 3),
       (4 , 'alaraby' , 'luxor' , 232 , 4);


	   select * from employee2 , orderes2
	   where employee2.id = orderes2.id_emp;

---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

--relation many to  many useing foreign key

create table employee2
(
id_e int primary key,
name varchar(50) not null,
address varchar(50) not null,
phone int not null
);


create table orderes2
(
id_o int primary key,
name varchar(50) not null,
address varchar(50) not null,
price int not null,
id_e int not null,
foreign key id_e references employee(id)
);


CREATE TABLE employee_orders2 (
  e_id INT FOREIGN KEY REFERENCES employee(id_e),
  o_id INT FOREIGN KEY REFERENCES order(id_o),
  PRIMARY KEY (e_id, o_id)  -- Composite primary key for uniqueness
);


---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

-----to create relation  one to one by inner join
use hospital;
go

create table employee1
(
id int primary key,
name varchar(50) not null,
address varchar(50) not null,
phone int not null
);


create table orderes1
(
id_o int primary key,
name varchar(50) not null,
address varchar(50) not null,
price int not null,
);
--------------------------------------------------------------------------------------------

select * from employee1
select * from orderes1
--------------------------------------------------------------------------------------------

insert into employee1(id , name , address , phone)
values (1 , 'ali' , 'alex' , 014632),
       (2 , 'hamo' , 'giza' , 0138932),
       (3 , 'mazen' , 'mansoura' , 01784632),
       (4 , 'alaraby' , 'luxor' , 00232);
--------------------------------------------------------------------------------------------
insert into orderes1(id_o , name , address , price )
values (1 , 'ali' , 'alex' , 200 ),
       (2 , 'hamo' , 'giza' , 932 ),
       (3 , 'mazen' , 'mansoura' , 632),
       (4 , 'alaraby' , 'luxor' , 232 );
--------------------------------------------------------------------------------------------

select * from employee1 inner join orderes1 on employee1.id = orderes1.id_o
where id between 1 and  2;

--------------------------------------------------------------------------------------------
delete from orderes1 where id_o = 2;
--------------------------------------------------------------------------------------------
select * from employee1 inner join orderes1 on employee1.id = orderes1.id_o
--------------------------------------------------------------------------------------------
insert into orderes1(id_o , name , address , price )
 values (2 , 'hamo' , 'giza' , 932 )


---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------


